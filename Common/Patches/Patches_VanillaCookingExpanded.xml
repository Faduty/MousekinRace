<?xml version="1.0" encoding="utf-8"?>
<Patch>
	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Vanilla Cooking Expanded</li>
		</mods>
		<match Class="PatchOperationSequence">
			<operations>

				<!-- Move Cloverbury Cheese to VCE Cheese category -->

				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="Mousekin_FoodCheese"]/thingCategories</xpath>
					<value>
						<thingCategories>
							<li>VCE_Cheese</li>
						</thingCategories>
					</value>
				</li>
				
				<!-- Add cheeses to blacklist and disable associated ingested thoughts (in favor of the Mousekin system) -->
				
				<li Class="PatchOperationAdd">
					<xpath>Defs/AlienRace.ThingDef_AlienRace[defName="Mousekin"]/comps/li[@Class="MousekinRace.CompProperties_RemembersCheeseEaten"]/cheeseDefs</xpath>
					<value>
						<li>VCE_Cheese</li>
					</value>
				</li>
				
				<li Class="PatchOperationFindMod">
					<mods>
						<li>Alpha Animals</li>
					</mods>
					<match Class="PatchOperationAdd">
						<xpath>Defs/AlienRace.ThingDef_AlienRace[defName="Mousekin"]/comps/li[@Class="MousekinRace.CompProperties_RemembersCheeseEaten"]/cheeseDefs</xpath>
						<value>
							<li>VCE_BlueCheese</li>
							<li>VCE_GowCheese</li>
							<li>VCE_NightCheese</li>
						</value>
					</match>
				</li>
				
				<li Class="PatchOperationFindMod">
					<mods>
						<li>Alpha Bees</li>
					</mods>
					<match Class="PatchOperationAdd">
						<xpath>Defs/AlienRace.ThingDef_AlienRace[defName="Mousekin"]/comps/li[@Class="MousekinRace.CompProperties_RemembersCheeseEaten"]/cheeseDefs</xpath>
						<value>
							<li>VCE_BeeCheese</li>
						</value>
					</match>
				</li>
				
				<li Class="PatchOperationFindMod">
					<mods>
						<li>Vanilla Factions Expanded - Insectoids</li>
					</mods>
					<match Class="PatchOperationAdd">
						<xpath>Defs/AlienRace.ThingDef_AlienRace[defName="Mousekin"]/comps/li[@Class="MousekinRace.CompProperties_RemembersCheeseEaten"]/cheeseDefs</xpath>
						<value>
							<li>VCE_InsectCheese</li>
						</value>
					</match>
				</li>
				
				<li Class="PatchOperationFindMod">
					<mods>
						<li>Vanilla Genetics Expanded</li>
					</mods>
					<match Class="PatchOperationAdd">
						<xpath>Defs/AlienRace.ThingDef_AlienRace[defName="Mousekin"]/comps/li[@Class="MousekinRace.CompProperties_RemembersCheeseEaten"]/cheeseDefs</xpath>
						<value>
							<li>VCE_BearffaloCheese</li>
							<li>VCE_BrownCheese</li>
							<li>VCE_ChickenffaloCheese</li>
							<li>VCE_HairyCheese</li>
							<li>VCE_LumpyCheese</li>
							<li>VCE_MechaCheese</li>
							<li>VCE_RatCheese</li>
							<li>VCE_ThrumffaloGouda</li>
							<li>VCE_WeirdCheese</li>
						</value>
					</match>
				</li>
				
				<li Class="PatchOperationAdd">
					<xpath>Defs/AlienRace.ThingDef_AlienRace[defName="Mousekin"]/alienRace/thoughtSettings/cannotReceiveThoughts</xpath>
					<value>
						<li>VCE_AteCheese</li>
					</value>
				</li>

				<!-- Remove wheat plant, wheat grain and flour -->
				
				<li Class="PatchOperationRemove">
					<xpath>Defs/ThingDef[
						defName="Mousekin_Plant_Wheat" or
						defName="Mousekin_RawWheat" or
						defName="Mousekin_Flour"
					]</xpath>
				</li>
				
				<!-- Remove manual flour grinding recipe -->
				
				<li Class="PatchOperationRemove">
					<xpath>Defs/RecipeDef[defName="Mousekin_Make_FlourFromWheat"]</xpath>
				</li>
				
				<!-- Disable Item Processor and associated recipes in Mousekin Windmill -->
				
				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="Mousekin_Windmill"]/thingClass</xpath>
					<value>
						<thingClass>Building</thingClass>
					</value>
				</li>
				
				<li Class="PatchOperationRemove">
					<xpath>Defs/ThingDef[defName="Mousekin_Windmill"]/comps/li[@Class="ItemProcessor.CompProperties_ItemProcessor"]</xpath>
				</li>
				
				<li Class="PatchOperationRemove">
					<xpath>Defs/ItemProcessor.ItemAcceptedDef[defName="Mousekin_IP_WindmillFirstItem"]</xpath>
				</li>
				
				<li Class="PatchOperationRemove">
					<xpath>Defs/ItemProcessor.CombinationDef[defName="Mousekin_RawWheatToFlour"]</xpath>
				</li>

			</operations>
		</match>
	</Operation>
</Patch>